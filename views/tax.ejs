<%- include("partials/header.ejs") %>
<!--Remember this include when add a new page-->
<main class="container">
  <!--main should move to main page-->
  <!---->
  <form>
    <label for="date">Date:</label>
    <input type="date" id="date" name="date" value="<%= defaultDate %>" />
  </form>

  <!---->
  <br />
  <h1>Tax Rate Table</h1>
  <!---->
  <h5 class="cvla" style="color: green"><u>For references onlyüëá</u></h5>
  <!---->
  <!---->
  <div class="apt">
    <!---->

    <!---->
    <!--Add table-->
    <!-- Bootstrap container: adds left/right padding and centers content -->

    <div class="container mt-0">
      <!-- Bootstrap card: adds a nice box around the content with padding and shadow -->
      <div class="card shadow">
        <!-- Card header: styled with background color and text color -->
        <div class="card-header bg-primary text-white">
          <h4 class="mb-0">2025 Tax Brackets Source: IRS</h4>
          <!-- Table title -->
        </div>

        <!-- Card body: contains the table, with no padding to keep it tight -->
        <div class="card-body p-0">
          <!-- Responsive wrapper with both horizontal and vertical scroll -->
          <div
            class="table-responsive"
            style="max-height: 400px; overflow-y: auto"
          >
            <!-- Responsive wrapper: enables horizontal scroll on small screens -->
            <!-- <div class="table-responsive"> -->

            <table class="table table-striped" id="taxTable">
              <thead>
                <tr>
                  <th scope="col">#</th>
                  <!-- Table header field 1-->
                  <th scope="col">Year</th>
                  <th scope="col">Filing Status</th>
                  <th scope="col">Taxable Income From</th>
                  <th scope="col">To Taxable Income</th>
                  <th scope="col">Tax Rate</th>
                </tr>
              </thead>

              <tbody>
                <!-- Check if taxData exists and has rows -->
                <% if (taxData && taxData.length > 0) { %>
                <!-- Loop over each row in taxData using forEach -->
                <% taxData.forEach((row,index)=> { %>
                <!--row: This is the current element in the array as the loop goes through each item.-->
                <!--index: This is the position (or index) of that current element in the array, starting from 0.-->
                <tr>
                  <!-- Show row number starting from 1 -->
                  <th scope="row"><%= index + 1 %></th>
                  <!--scope="row" means that this <th> is a row header ‚Äî it labels the entire row it's in.-->
                  <td><%= row.year %></td>
                  <td><%= row.fs %></td>
                  <td><%= row.lr %></td>
                  <!-- Upper range of taxable income. If null, show '‚Äî' -->
                  <td><%= row.hr || "‚Üó" %></td>
                  <!--Use Window + . to insert emoji-->
                  <!-- Tax rate (e.g., 10, 12, 22) shown as percentage at the end -->
                  <td><%= row.tr %>%</td>
                  <!--last % add percentage here not in database table-->
                </tr>
                <% }) %> <% } else { %>
                <tr>
                  <td colspan="6" class="text-muted">No tax data available.</td>
                </tr>
                <% } %>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <!---->
    <div class="apd">
      <div class="card" style="width: 18rem">
        <img src="/images/rose.png" class="card-img-top" alt="Rose" />
        <div class="card-body">
          <h5 class="card-title">Hoa H∆∞∆°ÃÄng</h5>
          <p class="card-text">EA</p>
          <a id="m1" href="#" class="btn btn-primary">Nguy√™ÃÉn</a>
        </div>
      </div>

      <div class="card" style="width: 18rem">
        <img src="/images/HM.png" class="card-img-top" alt="Flower" />
        <div class="card-body">
          <h5 class="card-title">Hoa Mai</h5>
          <p class="card-text">SAP Certified HANA FICO Professional</p>
          <a id="m5" href="#" class="btn btn-primary">ThaÃÄnh</a>
        </div>
      </div>

      <div class="card" style="width: 18rem">
        <img src="/images/rose.png" class="card-img-top" alt="Rose" />
        <div class="card-body">
          <h5 class="card-title">Hoa H√¥ÃÄng</h5>
          <p class="card-text">CPA</p>
          <a id="m2" href="#" class="btn btn-primary">Hi√™ÃÅu</a>
        </div>
      </div>
    </div>
    <!---->
    <div class="apd">
      <div class="card" style="width: 18rem">
        <img src="/images/rose.png" class="card-img-top" alt="Rose" />
        <div class="card-body">
          <h5 class="card-title">Hoa H∆∞∆°ÃÄng</h5>
          <p class="card-text">EA</p>
          <a id="m1" href="#" class="btn btn-primary">Nguy√™ÃÉn</a>
        </div>
      </div>

      <div class="card" style="width: 18rem">
        <img src="/images/HM.png" class="card-img-top" alt="Flower" />
        <div class="card-body">
          <h5 class="card-title">Hoa Mai</h5>
          <p class="card-text">SAP Certified HANA FICO Professional</p>
          <a id="m5" href="#" class="btn btn-primary">ThaÃÄnh</a>
        </div>
      </div>

      <div class="card" style="width: 18rem">
        <img src="/images/rose.png" class="card-img-top" alt="Rose" />
        <div class="card-body">
          <h5 class="card-title">Hoa H√¥ÃÄng</h5>
          <p class="card-text">CPA</p>
          <a id="m2" href="#" class="btn btn-primary">Hi√™ÃÅu</a>
        </div>
      </div>
    </div>
  </div>

  <!---->
  <!--Refer to index.ejs how to include header and footer.ejs-->
</main>
<!---->

<!-- Link external JS end -->
<!-- Link external JS -->

<!-- Link external JS end -->
<!---->
<%- include("partials/footer.ejs") %><!--Remember this include when add a new page-->
